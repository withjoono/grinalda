
> ms-backend@0.1.0 typeorm:run
> ts-node -r tsconfig-paths/register ./node_modules/typeorm/cli.js migration:run -d ormconfig.ts

[90m[4mquery:[24m[39m [94mSELECT[0m [95mversion[0m[37m([0m[37m)[0m
[90m[4mquery:[24m[39m [94mSELECT[0m [37m*[0m [94mFROM[0m [95mcurrent_schema[0m[37m([0m[37m)[0m
[90m[4mquery:[24m[39m [94mSELECT[0m [37m*[0m [94mFROM[0m [37m"information_schema"[0m[37m.[0m[37m"tables"[0m [94mWHERE[0m [37m"table_schema"[0m [37m=[0m [37m'mysanggibu'[0m [94mAND[0m [37m"table_name"[0m [37m=[0m [37m'typeorm_migrations'[0m
[90m[4mquery:[24m[39m [94mSELECT[0m [37m*[0m [94mFROM[0m [37m"typeorm_migrations"[0m [37m"typeorm_migrations"[0m [94mORDER BY[0m [37m"id"[0m [94mDESC[0m
[4m0 migrations are already loaded in the database.[24m
[4m18 migrations were found in the source code.[24m
[4m18 migrations are new migrations must be executed.[24m
[90m[4mquery:[24m[39m [37mSTART[0m [37mTRANSACTION[0m
QueryFailedError: relation "comment_tb" does not exist
    at PostgresQueryRunner.query (E:\Dev\github\MySanggibu\backend\node_modules\typeorm\src\driver\postgres\PostgresQueryRunner.ts:325:19)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async AddUpdateTimestampTriggers1732512100000.up (E:\Dev\github\MySanggibu\backend\src\migrations\1732512100000-AddUpdateTimestampTriggers.ts:52:5)
    at async MigrationExecutor.executePendingMigrations (E:\Dev\github\MySanggibu\backend\node_modules\src\migration\MigrationExecutor.ts:336:17)
    at async DataSource.runMigrations (E:\Dev\github\MySanggibu\backend\node_modules\src\data-source\DataSource.ts:404:13)
    at async Object.handler (E:\Dev\github\MySanggibu\backend\node_modules\src\commands\MigrationRunCommand.ts:76:13) {
  query: '\n' +
    '      CREATE TRIGGER update_comment_timestamp\n' +
    '        BEFORE UPDATE ON comment_tb\n' +
    '        FOR EACH ROW\n' +
    '        EXECUTE FUNCTION update_timestamp_trigger();\n' +
    '    ',
  parameters: undefined,
  driverError: error: relation "comment_tb" does not exist
      at E:\Dev\github\MySanggibu\backend\node_modules\pg\lib\client.js:545:17
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async PostgresQueryRunner.query (E:\Dev\github\MySanggibu\backend\node_modules\typeorm\src\driver\postgres\PostgresQueryRunner.ts:254:25)
      at async AddUpdateTimestampTriggers1732512100000.up (E:\Dev\github\MySanggibu\backend\src\migrations\1732512100000-AddUpdateTimestampTriggers.ts:52:5)
      at async MigrationExecutor.executePendingMigrations (E:\Dev\github\MySanggibu\backend\node_modules\src\migration\MigrationExecutor.ts:336:17)
      at async DataSource.runMigrations (E:\Dev\github\MySanggibu\backend\node_modules\src\data-source\DataSource.ts:404:13)
      at async Object.handler (E:\Dev\github\MySanggibu\backend\node_modules\src\commands\MigrationRunCommand.ts:76:13) {
    length: 108,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: undefined,
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'namespace.c',
    line: '433',
    routine: 'RangeVarGetRelidExtended'
  },
  length: 108,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'namespace.c',
  line: '433',
  routine: 'RangeVarGetRelidExtended'
}
?ì¢‘íˆ˜  InitialSchema migration - è¸°ì¢ì” ?ã…»ì”ª??ï§ë‰ì” æ´¹ëªƒì …?ëŒë€¡
?ë±· ??ï§ë‰ì” æ´¹ëªƒì …?ëŒë€¡?Â€ æ¹²ê³—ã€ˆ ?ã…½ê¶ï§ëˆ? ç•°ë¶¿ìŸ»?ì„ë¦° ?ê¾ªë¸³ å¯ƒê»‹ì—¯?ëˆë–.
??æ¹²ê³—ã€ˆ ?ê³—ì” ?ê³•ì¿‹?ëŒë’ª??å¯ƒìŒìŠ¦: ??ï§ë‰ì” æ´¹ëªƒì …?ëŒë€¡???ì„ë£?ì‡°ì¤ˆ æ¹²ê³•ì¤‰?ì„ê½­??
?ë„… ???ê³—ì” ?ê³•ì¿‹?ëŒë’ª??å¯ƒìŒìŠ¦: DB_SYNCHRONIZE=trueæ¿¡??ã…½ê¶ï§??ì•¹ê½¦ ??æ¹²ê³•ì¤‰?ì„ê½­??
[90m[4mquery:[24m[39m [94mINSERT INTO[0m [37m"typeorm_migrations"[0m[37m([0m[37m"timestamp"[0m[37m,[0m [37m"name"[0m[37m)[0m [94mVALUES[0m [37m([0m[37m$[0m[32m1[0m[37m,[0m [37m$[0m[32m2[0m[37m)[0m [90m-- PARAMETERS: [1732512000000,"InitialSchema1732512000000"][0m
[4mMigration InitialSchema1732512000000 has been executed successfully.[24m
?ëµ© Creating update_timestamp trigger function...
[90m[4mquery:[24m[39m 
      [94mCREATE[0m [94mOR[0m [94mREPLACE[0m [37mFUNCTION[0m [95mupdate_timestamp_trigger[0m[37m([0m[37m)[0m
      [37mRETURNS[0m [37mTRIGGER[0m [94mAS[0m [37m$[0m[37m$[0m
      [94mBEGIN[0m
        [90m-- updated_at è€ŒÑ‰ì†??è­°ëŒì˜±?ì„ë’— å¯ƒìŒìŠ¦?ë¨®ì­” ?ë‚…ëœ²?ëŒ„ë“ƒ[0m
        [90m-- è€ŒÑ‰ì†???ë†ì‘ï§??ë¨®ìœ­ è«›ì’–ê¹®?ì„? ?ë”„í€¬ æ´¹ëªƒê¹· ?ì„ë¼±åª›?[0m
        [94mIF[0m [37mTG_OP[0m [37m=[0m [37m'UPDATE'[0m [94mTHEN[0m
          [37mNEW[0m[37m.[0m[37mupdated_at[0m [37m=[0m [37mCURRENT_TIMESTAMP[0m[37m;[0m
        [94mEND[0m [94mIF[0m[37m;[0m
        [37mRETURN[0m [37mNEW[0m[37m;[0m
      [94mEND[0m[37m;[0m
      [37m$[0m[37m$[0m [37mLANGUAGE[0m [37mplpgsql[0m[37m;[0m
    
??Trigger function created successfully
?ëµ© Adding trigger to comment_tb...
[90m[4mquery:[24m[39m 
      [94mDROP[0m [37mTRIGGER[0m [94mIF[0m [94mEXISTS[0m [37mupdate_comment_timestamp[0m [94mON[0m [37mcomment_tb[0m[37m;[0m
    
[90m[4mquery:[24m[39m 
      [94mCREATE[0m [37mTRIGGER[0m [37mupdate_comment_timestamp[0m
        [37mBEFORE[0m [94mUPDATE[0m [94mON[0m [37mcomment_tb[0m
        [94mFOR[0m [94mEACH[0m [37mROW[0m
        [37mEXECUTE[0m [37mFUNCTION[0m [95mupdate_timestamp_trigger[0m[37m([0m[37m)[0m[37m;[0m
    
[4m[31mquery failed:[39m[24m 
      [94mCREATE[0m [37mTRIGGER[0m [37mupdate_comment_timestamp[0m
        [37mBEFORE[0m [94mUPDATE[0m [94mON[0m [37mcomment_tb[0m
        [94mFOR[0m [94mEACH[0m [37mROW[0m
        [37mEXECUTE[0m [37mFUNCTION[0m [95mupdate_timestamp_trigger[0m[37m([0m[37m)[0m[37m;[0m
    
[4m[31merror:[39m[24m error: relation "comment_tb" does not exist
[4mMigration "AddUpdateTimestampTriggers1732512100000" failed, error: relation "comment_tb" does not exist[24m
[90m[4mquery:[24m[39m [37mROLLBACK[0m
[30m[41mError during migration run:[49m[39m
